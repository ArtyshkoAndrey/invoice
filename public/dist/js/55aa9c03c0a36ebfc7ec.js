"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[394],{5394:(t,e,s)=>{s.r(e),s.d(e,{default:()=>l});var a=s(901),i=s(538),n=s(9669),o=s.n(n);const c={metaInfo:function(){return{title:"Главная страница"}},components:{HeaderFilterInfo:a.Z},scrollToTop:!0,data:function(){return{title:window.config.appName,viewLength:10,busCreatorInvoice:new i.default,filter:new i.default,invoices:{}}},mounted:function(){this.$root.$loading.finish()},methods:{setViewLength:function(t){this.viewLength=t},creating:function(){this.$router.push({name:"dashboard.invoice.create"})},openPdf:function(t){window.open(window.config.pdfUrl+"/"+t,"_blank")},openPdfNoCost:function(t){window.open(window.config.pdfUrlNoCost+"/"+t,"_blank")},get:function(t){var e=this;o().get("/api/invoices",{params:{per_page:this.viewLength,page:t.page,search:t.search}}).then((function(t){e.invoices=t.data.payload.invoices,e.filter.$emit("updateData",t.data.payload.invoices),console.log("new data",t.data)}))}}};const l=(0,s(1900).Z)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{appear:"",mode:"out-in",name:"fade"}},[t.$root.$loading.show?s("Loader",{key:"1"}):s("div",{key:"2"},[s("HeaderFilterInfo",{ref:"filter",attrs:{filter:t.filter,title:t.$t("invoice.index.filter_title"),values:{},"view-length":t.viewLength},on:{create:t.creating,get:t.get,setViewLength:t.setViewLength}}),t._v(" "),s("div",{staticClass:"row mt-5 opacity-75 mx-0 d-lg-flex d-none",staticStyle:{padding:"0rem 1rem"}},[s("div",{staticClass:"col-lg-1 text-center"},[s("h6",{staticClass:"mb-0"},[t._v("\n            №\n          ")])]),t._v(" "),s("div",{staticClass:"col-lg-1"},[s("p",{staticClass:"mb-0"},[t._v("\n            Reference\n          ")])]),t._v(" "),s("div",{staticClass:"col-lg-2"},[s("p",{staticClass:"mb-0 text-reset"},[t._v("\n            Компания\n          ")])]),t._v(" "),s("div",{staticClass:"col-lg-4"},[s("p",{staticClass:"mb-0 text-reset"},[t._v("\n            Клиент\n          ")])]),t._v(" "),s("div",{staticClass:"col-lg-3"},[t._v("\n          Трансфер\n        ")])]),t._v(" "),s("div",{staticClass:"row gy-3 mt-lg-0 mt-3"},t._l(t.invoices.data,(function(e){return s("div",{key:e.id,staticClass:"col-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"row align-items-center mx-0"},[s("div",{staticClass:"col-lg-1 col-sm-1 col-2 text-center",staticStyle:{cursor:"pointer"},on:{click:function(s){return t.$router.push({name:"dashboard.invoice.show",params:{id:e.id}})}}},[s("h6",{staticClass:"mb-0"},[t._v("\n                    "+t._s(e.id)+"\n                  ")])]),t._v(" "),s("div",{staticClass:"col-lg-1 col-sm-3 col-5"},[s("p",{staticClass:"mb-0"},[t._v("\n                    "+t._s(e.company.code)+"\n                  ")])]),t._v(" "),s("div",{staticClass:"col-lg-2 col-sm-3 col-5"},[s("p",{staticClass:"mb-0 text-reset"},[t._v('\n                    "'+t._s(e.company.name)+'"\n                  ')])]),t._v(" "),s("div",{staticClass:"col-lg-3 col-sm-5 col-auto mt-3 mt-sm-0"},[s("p",{staticClass:"mb-0 text-reset"},[t._v("\n                    "+t._s(e.user_name)+"\n                  ")])]),t._v(" "),s("div",{staticClass:"col-lg-3 col-sm-8 mt-lg-0 mt-sm-3 col-auto mt-3"},[s("p",{staticClass:"mb-0 text-reset"},[s("span",{staticClass:"opacity-50"},[t._v("Прибытие: ")]),t._v("\n                    "+t._s(t.$formatDate(e.arrival_time))+" "+t._s(t.$formatTime(e.arrival_time))+"\n                  ")]),t._v(" "),s("p",{staticClass:"mb-0 text-reset"},[s("span",{staticClass:"opacity-50"},[t._v("Отбытие: ")]),t._v("\n                    "+t._s(t.$formatDate(e.departure_time))+" "+t._s(t.$formatTime(e.departure_time))+"\n                  ")])]),t._v(" "),s("div",{staticClass:"col-lg-2 col-sm-4 mt-lg-0 mt-sm-3 mt-3 d-inline-flex justify-content-end"},[s("vs-button",{staticClass:"ms-2",attrs:{border:"",circle:"",danger:"",icon:""},on:{click:function(s){return t.openPdf(e.id)}}},[s("em",{staticClass:"bx bxs-file-pdf h5 mb-0"})])],1)])])])])})),0)],1)],1)],1)}),[],!1,null,"4ab04b44",null).exports}}]);