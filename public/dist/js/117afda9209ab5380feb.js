"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[980],{1980:(t,e,s)=>{s.r(e),s.d(e,{default:()=>v});var a=s(7757),n=s.n(a),i=s(266),r=s(9669),o=s.n(r);const c={name:"Loader",mounted:function(){this.$vs.loading({target:this.$refs.box1,text:this.$t("config.loading"),type:"default"})}};var l=s(1900);function d(t,e,s,a,n,i,r){try{var o=t[i](r),c=o.value}catch(t){return void s(t)}o.done?e(c):Promise.resolve(c).then(a,n)}const u={name:"Edit",components:{Loader:(0,l.Z)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"box1",staticClass:"box-loading"})])}),[],!1,null,null,null).exports},metaInfo:{title:i.Z.t("samples.edit.title")},data:function(){return{title:i.Z.t("samples.edit.title"),sample:{},resorts:[]}},computed:{id:function(){return this.$route.params.id}},mounted:function(){var t,e=this;return(t=n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o().get("/api/samples/"+e.id).then((function(t){e.sample=t.data.payload.sample})).catch((function(t){404===t.response.status&&(console.log(t.response.data),e.$vs.notification({title:"Ошибка",text:t.response.data.message}),e.$router.push({name:"dashboard.samples.index"}))}));case 2:return t.next=4,o().get("/api/resorts").then((function(t){e.resorts=t.data.payload.resorts}));case 4:return t.next=6,e.$root.$loading.finish();case 6:case"end":return t.stop()}}),t)})),function(){var e=this,s=arguments;return new Promise((function(a,n){var i=t.apply(e,s);function r(t){d(i,a,n,r,o,"next",t)}function o(t){d(i,a,n,r,o,"throw",t)}r(void 0)}))})()},methods:{addDay:function(){this.sample.days.push({id:"",order:"",resort:{id:""},free:!1})},removeDay:function(t){this.sample.days=this.sample.days.filter((function(e,s){return s!==t}))},save:function(){this.$router.go(-1)}}};const v=(0,l.Z)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",{attrs:{name:"fade",appear:""}},[t.$root.$loading.show?s("Loader",{key:"1"}):s("div",{key:"2"},[s("div",{staticClass:"card p-4"},[s("div",{staticClass:"card-title"},[s("h3",[t._v(t._s(t.title)+' "'+t._s(t.sample.name)+'"')])]),t._v(" "),s("div",{staticClass:"card-body px-0"},[t._l(t.sample.days,(function(e,a){return s("div",{key:a,staticClass:"row align-items-center"},[s("div",{staticClass:"col-auto"},[s("p",{staticClass:"mb-0"},[t._v("День "+t._s(a+1))])]),t._v(" "),s("div",{staticClass:"col-auto"},[s("vs-select",{attrs:{placeholder:"Курорты"},model:{value:e.resort.id,callback:function(s){t.$set(e.resort,"id",s)},expression:"day.resort.id"}},t._l(t.resorts,(function(e){return s("vs-option",{key:e.id,attrs:{label:e.name,value:e.id}},[t._v("\n                  "+t._s(e.name)+"\n                ")])})),1)],1),t._v(" "),s("div",{staticClass:"col-auto"},[s("vs-checkbox",{model:{value:e.free,callback:function(s){t.$set(e,"free",s)},expression:"day.free"}},[t._v("\n                Free day\n              ")])],1),t._v(" "),s("div",{staticClass:"col-auto"},[s("vs-button",{attrs:{icon:"",circle:"",danger:"",flat:""},on:{click:function(e){return t.removeDay(a)}}},[s("em",{staticClass:"bx bx-trash-alt"})])],1)])})),t._v(" "),s("div",{staticClass:"row justify-content-between align-items-center mt-3"},[s("div",{staticClass:"col-auto"},[s("vs-button",{attrs:{gradient:""},on:{click:t.addDay}},[t._v("\n                Добавить день\n              ")])],1),t._v(" "),s("div",{staticClass:"col-auto"},[s("vs-button",{attrs:{success:""},on:{click:t.save}},[t._v("\n                "+t._s(t.$t("form.save"))+"\n              ")])],1)])],2)])])],1)],1)}),[],!1,null,"11e09457",null).exports}}]);